<form #clienteForm="ngForm" (ngSubmit)="submit(clienteForm)" class="cliente-form">
  <div class="section-title">Información General</div>
  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <label>Código <span class="text-danger">*</span></label>
        <input type="text" class="form-control" name="codigo" [(ngModel)]="formData.codigo" required [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-5">
      <div class="form-group">
        <label>Nombre / Razón Social <span class="text-danger">*</span></label>
        <input type="text" class="form-control" name="nombre" [(ngModel)]="formData.nombre" required [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label>Identificación / RUC <span class="text-danger">*</span></label>
        <input type="text" class="form-control" name="identificacion" [(ngModel)]="formData.identificacion" required [readonly]="readOnly">
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <label>Tipo de Cliente</label>
        <select class="form-control" name="tipoCliente" [(ngModel)]="formData.tipoCliente" [disabled]="readOnly">
          <option *ngFor="let tipo of tipoClienteOptions" [value]="tipo">{{ tipo }}</option>
        </select>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label>Contacto Principal</label>
        <input type="text" class="form-control" name="contacto" [(ngModel)]="formData.contacto" [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label>Tipo Interno de Cliente</label>
        <input type="text" class="form-control" name="tipoInterno" [(ngModel)]="formData.tipoInterno" placeholder="VIP, Mayorista, etc." [readonly]="readOnly">
      </div>
    </div>
  </div>

  <div class="section-title">Ubicación</div>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label>Dirección</label>
        <input type="text" class="form-control" name="direccion" [(ngModel)]="formData.direccion" [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label>Provincia</label>
        <input type="text" class="form-control" name="provincia" [(ngModel)]="formData.provincia" [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label>Cantón</label>
        <input type="text" class="form-control" name="canton" [(ngModel)]="formData.canton" [readonly]="readOnly">
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3">
      <div class="form-group">
        <label>Distrito</label>
        <input type="text" class="form-control" name="distrito" [(ngModel)]="formData.distrito" [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label>País</label>
        <input type="text" class="form-control" name="pais" [(ngModel)]="formData.pais" [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label>Zona</label>
        <input type="text" class="form-control" name="zona" [(ngModel)]="formData.zona" [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group form-check mt-4">
        <input class="form-check-input" type="checkbox" id="activo" name="activo" [(ngModel)]="formData.activo" [disabled]="readOnly">
        <label class="form-check-label" for="activo">Activo</label>
      </div>
    </div>
  </div>

  <div class="section-title">Comunicación</div>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label>Email</label>
        <input type="email" class="form-control" name="email" [(ngModel)]="formData.email" email [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label>Teléfono 1</label>
        <input type="tel" class="form-control" name="telefono1" [(ngModel)]="formData.telefono1" pattern="\\d*" [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label>Teléfono 2</label>
        <input type="tel" class="form-control" name="telefono2" [(ngModel)]="formData.telefono2" pattern="\\d*" [readonly]="readOnly">
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3">
      <div class="form-group">
        <label>Fax</label>
        <input type="text" class="form-control" name="fax" [(ngModel)]="formData.fax" [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group form-check mt-4">
        <input class="form-check-input" type="checkbox" id="banderaCorreo" name="banderaCorreo" [(ngModel)]="formData.banderaCorreo" [disabled]="readOnly">
        <label class="form-check-label" for="banderaCorreo">Enviar correos automáticos</label>
      </div>
    </div>
  </div>

  <div class="section-title">Información Comercial</div>
  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <label>Monto de Crédito</label>
        <input type="number" class="form-control" name="montoCredito" [(ngModel)]="formData.montoCredito" min="0" step="0.01" [readonly]="readOnly">
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label>Operador</label>
        <input type="text" class="form-control" name="operador" [(ngModel)]="formData.operador" readonly>
      </div>
    </div>
  </div>

  <div class="d-flex justify-content-end mt-3">
    <button type="button" class="btn btn-light mr-2" (click)="cancelForm()">{{ readOnly ? 'Cerrar' : 'Cancelar' }}</button>
    <button *ngIf="!readOnly" type="submit" class="btn btn-primary" [disabled]="!clienteForm.form.valid">Guardar</button>
  </div>
</form>
